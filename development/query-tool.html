<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>QueryTool | BlackLab</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Documentation for the corpus search engine BlackLab">
    
    <link rel="preload" href="/BlackLab/assets/css/0.styles.490e2dbe.css" as="style"><link rel="preload" href="/BlackLab/assets/js/app.7a3441ee.js" as="script"><link rel="preload" href="/BlackLab/assets/js/2.5fe0985c.js" as="script"><link rel="preload" href="/BlackLab/assets/js/22.eb26afc2.js" as="script"><link rel="prefetch" href="/BlackLab/assets/js/10.e0923afa.js"><link rel="prefetch" href="/BlackLab/assets/js/11.258e7acb.js"><link rel="prefetch" href="/BlackLab/assets/js/12.7e546e9f.js"><link rel="prefetch" href="/BlackLab/assets/js/13.e012f2f0.js"><link rel="prefetch" href="/BlackLab/assets/js/14.91ee3f32.js"><link rel="prefetch" href="/BlackLab/assets/js/15.2ed4bb72.js"><link rel="prefetch" href="/BlackLab/assets/js/16.eb35820c.js"><link rel="prefetch" href="/BlackLab/assets/js/17.a83da584.js"><link rel="prefetch" href="/BlackLab/assets/js/18.31e6f47b.js"><link rel="prefetch" href="/BlackLab/assets/js/19.968dfe1c.js"><link rel="prefetch" href="/BlackLab/assets/js/20.80fd51f0.js"><link rel="prefetch" href="/BlackLab/assets/js/21.61b5d978.js"><link rel="prefetch" href="/BlackLab/assets/js/23.188da129.js"><link rel="prefetch" href="/BlackLab/assets/js/24.11fd7da1.js"><link rel="prefetch" href="/BlackLab/assets/js/25.2fcaa546.js"><link rel="prefetch" href="/BlackLab/assets/js/26.ef5ef092.js"><link rel="prefetch" href="/BlackLab/assets/js/27.fec955fe.js"><link rel="prefetch" href="/BlackLab/assets/js/28.240b166f.js"><link rel="prefetch" href="/BlackLab/assets/js/29.ee44dd00.js"><link rel="prefetch" href="/BlackLab/assets/js/3.5ef7a69e.js"><link rel="prefetch" href="/BlackLab/assets/js/30.fd9d089f.js"><link rel="prefetch" href="/BlackLab/assets/js/31.9017b156.js"><link rel="prefetch" href="/BlackLab/assets/js/32.0bc1c944.js"><link rel="prefetch" href="/BlackLab/assets/js/33.a0eb6780.js"><link rel="prefetch" href="/BlackLab/assets/js/34.3e8accbe.js"><link rel="prefetch" href="/BlackLab/assets/js/35.174c0c0c.js"><link rel="prefetch" href="/BlackLab/assets/js/36.fe5c8cd3.js"><link rel="prefetch" href="/BlackLab/assets/js/37.3e2dcc58.js"><link rel="prefetch" href="/BlackLab/assets/js/38.1bf30664.js"><link rel="prefetch" href="/BlackLab/assets/js/39.e68f015e.js"><link rel="prefetch" href="/BlackLab/assets/js/4.d4eaec4c.js"><link rel="prefetch" href="/BlackLab/assets/js/40.dc707cff.js"><link rel="prefetch" href="/BlackLab/assets/js/41.7d6e5fe8.js"><link rel="prefetch" href="/BlackLab/assets/js/42.ed42da15.js"><link rel="prefetch" href="/BlackLab/assets/js/43.ade5908f.js"><link rel="prefetch" href="/BlackLab/assets/js/44.dc10efee.js"><link rel="prefetch" href="/BlackLab/assets/js/45.4d4f2c69.js"><link rel="prefetch" href="/BlackLab/assets/js/46.68eefd9d.js"><link rel="prefetch" href="/BlackLab/assets/js/47.22504675.js"><link rel="prefetch" href="/BlackLab/assets/js/48.6011aa57.js"><link rel="prefetch" href="/BlackLab/assets/js/49.01098fa5.js"><link rel="prefetch" href="/BlackLab/assets/js/5.49744fc9.js"><link rel="prefetch" href="/BlackLab/assets/js/50.6e1abbdf.js"><link rel="prefetch" href="/BlackLab/assets/js/51.bd551381.js"><link rel="prefetch" href="/BlackLab/assets/js/52.bac90b56.js"><link rel="prefetch" href="/BlackLab/assets/js/53.94477c27.js"><link rel="prefetch" href="/BlackLab/assets/js/54.3d2cdc9b.js"><link rel="prefetch" href="/BlackLab/assets/js/55.6e4ecbe4.js"><link rel="prefetch" href="/BlackLab/assets/js/56.af31f5d9.js"><link rel="prefetch" href="/BlackLab/assets/js/57.477e686a.js"><link rel="prefetch" href="/BlackLab/assets/js/58.fa01aa4c.js"><link rel="prefetch" href="/BlackLab/assets/js/59.d7d2e42a.js"><link rel="prefetch" href="/BlackLab/assets/js/6.39c16ebc.js"><link rel="prefetch" href="/BlackLab/assets/js/60.8bdb1e24.js"><link rel="prefetch" href="/BlackLab/assets/js/61.9fa92433.js"><link rel="prefetch" href="/BlackLab/assets/js/62.6a62dd3f.js"><link rel="prefetch" href="/BlackLab/assets/js/63.639c347b.js"><link rel="prefetch" href="/BlackLab/assets/js/64.f27d1d5d.js"><link rel="prefetch" href="/BlackLab/assets/js/65.cae1de64.js"><link rel="prefetch" href="/BlackLab/assets/js/66.883cfc5f.js"><link rel="prefetch" href="/BlackLab/assets/js/67.b1761c52.js"><link rel="prefetch" href="/BlackLab/assets/js/7.fc2d2638.js"><link rel="prefetch" href="/BlackLab/assets/js/8.0ce128f6.js"><link rel="prefetch" href="/BlackLab/assets/js/9.3aa625e7.js">
    <link rel="stylesheet" href="/BlackLab/assets/css/0.styles.490e2dbe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BlackLab/" class="home-link router-link-active"><!----> <span class="site-name">BlackLab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link router-link-active">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link router-link-active">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/BlackLab/development/" aria-current="page" class="sidebar-link">Development resources</a></li><li><a href="/BlackLab/development/downloads.html" class="sidebar-link">Downloads</a></li><li><a href="/BlackLab/development/examples/example-application.html" class="sidebar-link">The Example Application</a></li><li><a href="/BlackLab/development/query-tool.html" aria-current="page" class="active sidebar-link">QueryTool</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BlackLab/development/query-tool.html#what-is-it" class="sidebar-link">What is it?</a></li><li class="sidebar-sub-header"><a href="/BlackLab/development/query-tool.html#starting-the-querytool" class="sidebar-link">Starting the QueryTool</a></li><li class="sidebar-sub-header"><a href="/BlackLab/development/query-tool.html#paging-sorting-and-grouping" class="sidebar-link">Paging, sorting and grouping</a></li><li class="sidebar-sub-header"><a href="/BlackLab/development/query-tool.html#corpus-query-language" class="sidebar-link">Corpus Query Language</a></li><li class="sidebar-sub-header"><a href="/BlackLab/development/query-tool.html#querytool-reference" class="sidebar-link">QueryTool reference</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Customization</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/BlackLab/development/solr/" class="sidebar-link">Solr (EXPERIMENTAL)</a></li><li><a href="/BlackLab/development/migration-guide.html" class="sidebar-link">Migration guide</a></li><li><a href="/BlackLab/development/changelog.html" class="sidebar-link">Change Log</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="querytool"><a href="#querytool" class="header-anchor">#</a> QueryTool</h1> <h2 id="what-is-it"><a href="#what-is-it" class="header-anchor">#</a> What is it?</h2> <p>QueryTool is a simple command-driven search tool that provides a demonstration of the querying features of BlackLab. It allows you to search an index using different query languages:</p> <ul><li><a href="/BlackLab/guide/corpus-query-language.html">Corpus Query Language</a>, aimed at finding linguistic patterns in large text corpora. This was developed at the University of Stuttgard for the IMS Corpus Workbench (CWB) and is used in other corpus search systems as well, notably the Lexicom Sketch Engine.</li> <li><a href="https://lucene.apache.org/core/8_0_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Overview" target="_blank" rel="noopener noreferrer">Lucene Query Language<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, the query parser supplied with Lucene. A familiar syntax for including/excluding terms, similar to how many search engines operate.</li> <li>Rudimentary support for <a href="http://zing.z3950.org/cql/intro.html" target="_blank" rel="noopener noreferrer">SRU CQL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Contextual Query Language), a query language used by libraries around the world.</li></ul> <p>Note that Corpus Query Language is by far the best-supported query language.</p> <h2 id="starting-the-querytool"><a href="#starting-the-querytool" class="header-anchor">#</a> Starting the QueryTool</h2> <p>You can start QueryTool to search your own data set by running it from the commandline. To learn how to quickly index and search a corpus, see <a href="/BlackLab/guide/getting-started.html">Getting Started</a>.</p> <h2 id="paging-sorting-and-grouping"><a href="#paging-sorting-and-grouping" class="header-anchor">#</a> Paging, sorting and grouping</h2> <p>As a first query, type &quot;de&quot; (the) and press Enter. The first twenty hits for this query are shown. To page through the results, use the commands “next” and “previous” (or their one-letter abbreviations). You can also change the number of hits displayed per page by using the “pagesize” command followed by a number.</p> <p>You can sort the hits using the command “sort &lt;criterium&gt;”. The criterium can be “match”, “left” or “right”. “match” sorts by matched text, “left” sorts by left context (the text to the left of the matched text), and “right” sorts by right context. You can also specify an annotation to sort on, e.g. word, lemma, or pos. If you don't specify this, hits will be sorted by word.</p> <p>You can group the hits using “group &lt;criterium&gt;”. Valid values are again “match”, “left” or “right”. Here, “left” and “right” group on the single word occurring to the left or right of the matched text. Just like sort, you can optionally specify an annotation (word, lemma, pos) to group on. Word is the default.</p> <p>Once you group hits, you enter group mode. The groups are displayed in columns: group number, group size and group identity. If there are many groups, you can page through the groups using the same command as for hits. You can also sort the groups by “identity” or “size”.</p> <p>To examine the hits in a group, enter “group n”, where n is the group number displayed at the beginning of the line (the second number is the group size). To leave group mode and go back to showing all hits, enter “hits”. To get back to group mode, enter “groups”.</p> <h2 id="corpus-query-language"><a href="#corpus-query-language" class="header-anchor">#</a> Corpus Query Language</h2> <p>The demo starts out in Corpus Query Language mode, which is the most powerful of the supported languages. The Corpus Query Language expresses queries as sequences of token queries. It is therefore mainly useful to find specific types of phrases in a larger text.</p> <p>An example of a simple query (note that the quotes are required):</p> <div class="language- extra-class"><pre><code>&quot;de&quot; &quot;sta.\*&quot;
</code></pre></div><p>This searches for the word “de” followed by a word starting with “sta”. As you can see, regular expressions can be used to build token queries.</p> <p>Equivalent to the above query is:</p> <div class="language- extra-class"><pre><code>[word=&quot;de&quot;] [word=&quot;sta.\*&quot;]
</code></pre></div><p>In addition to using regular expressions to express single-token restrictions, a similar notation can be used to express restrictions on sequences of tokens. For example:</p> <div class="language- extra-class"><pre><code>&quot;der.\*&quot;{2,}
</code></pre></div><p>This query finds two or more successive words starting with &quot;der&quot;. You can also use the regular expression operators such as *, + and ? to build multi-token regular expressions:</p> <div class="language- extra-class"><pre><code>&quot;in&quot; &quot;de&quot;? &quot;gang&quot; &quot;g.\*&quot;
</code></pre></div><p>If your corpus is tagged with headword and part of speech (the supplied test set is), you can search for these features as well:</p> <div class="language- extra-class"><pre><code>[hw=&quot;zijn&quot;] [hw=&quot;blijven&quot;]
</code></pre></div><p>This find forms of these verbs (“to be” and “to stay”) occurring together.</p> <div class="language- extra-class"><pre><code>[pos=&quot;a.\*&quot;]+ &quot;man&quot;
</code></pre></div><p>This finds the word &quot;man&quot; with one or more adjectives applied to it.</p> <h2 id="querytool-reference"><a href="#querytool-reference" class="header-anchor">#</a> QueryTool reference</h2> <h3 id="corpusql-examples"><a href="#corpusql-examples" class="header-anchor">#</a> CorpusQL examples</h3> <p>Find words starting with &quot;sta&quot;:</p> <div class="language- extra-class"><pre><code>&quot;sta.\*&quot;
</code></pre></div><p>Find &quot;man&quot; preceded by at least 2 adjectives:</p> <div class="language- extra-class"><pre><code>[type=&quot;a.\*&quot;]{2,} &quot;man&quot;
</code></pre></div><p>Find &quot;stad&quot; and &quot;dorp&quot; with one word in between:</p> <div class="language- extra-class"><pre><code>&quot;stad&quot; [] &quot;dorp&quot;
</code></pre></div><p>Find &quot;stad&quot; and &quot;dorp&quot; with 2-10 words in between:</p> <div class="language- extra-class"><pre><code>&quot;stad&quot; []{2,10} &quot;dorp&quot;
</code></pre></div><p>Find all words:</p> <div class="language- extra-class"><pre><code>[]
</code></pre></div><p>Find all bigrams:</p> <div class="language- extra-class"><pre><code>[] []
[]{2}
</code></pre></div><p>&quot;de&quot; at the start of a named entity:</p> <div class="language- extra-class"><pre><code>&lt;ne\&gt; &quot;de&quot;
</code></pre></div><p>&quot;poorter&quot; at the end of a named entity:</p> <div class="language- extra-class"><pre><code>&quot;poorter&quot; &lt;/ne\&gt;
</code></pre></div><p>Named entities containing &quot;de&quot;:</p> <div class="language- extra-class"><pre><code>&lt;ne/\&gt; containing &quot;de&quot;
</code></pre></div><p>&quot;de&quot; within a named entity:</p> <div class="language- extra-class"><pre><code>&quot;de&quot; within &lt;ne/\&gt;
</code></pre></div><p>All named entities:</p> <div class="language- extra-class"><pre><code>&lt;ne/\&gt;
</code></pre></div><p>All persons:</p> <div class="language- extra-class"><pre><code>&lt;ne type=&quot;per&quot;/\&gt;
</code></pre></div><p>Person names containing &quot;van&quot;:</p> <div class="language- extra-class"><pre><code>&lt;ne type=&quot;per&quot;/\&gt; containing &quot;van&quot;
</code></pre></div><p>Locations starting with &quot;de&quot;:</p> <div class="language- extra-class"><pre><code>&lt;ne type=&quot;loc&quot; /\&gt; containing &lt;ne\&gt; &quot;de&quot;
</code></pre></div><h3 id="other-commands"><a href="#other-commands" class="header-anchor">#</a> Other commands</h3> <p>Grouping</p> <div class="language- extra-class"><pre><code>group match
group match lemma
group match pos
</code></pre></div><p>Sorting</p> <div class="language- extra-class"><pre><code>sort left
sort right lemma
</code></pre></div><p>Paging through results:</p> <div class="language- extra-class"><pre><code>n(ext)
p(revious)
</code></pre></div><p>Change context size (number of words around hit):</p> <div class="language- extra-class"><pre><code>context 3
context 10
</code></pre></div><p>Show document title in KWIC view:</p> <div class="language- extra-class"><pre><code>doctitle on
doctitle off
</code></pre></div><p>Case/diacritics-sensitivity:</p> <div class="language- extra-class"><pre><code>sensitive on
sensitive off
</code></pre></div><p>Filter on metadata (uses Lucene query syntax):</p> <div class="language- extra-class"><pre><code>filter title.level1:&quot;courant&quot;
filter author.level1:&quot;jansen&quot;
filter author.level1:&quot;sterkenburg&quot; author.level2:&quot;sterkenburg&quot;
filter (Filter weer leegmaken)
</code></pre></div><p>Show index structure:</p> <div class="language- extra-class"><pre><code>struct
structure
</code></pre></div><h3 id="commandline-editing"><a href="#commandline-editing" class="header-anchor">#</a> Commandline editing</h3> <p>Commandline editing is available if the <a href="http://jline.sourceforge.net/" target="_blank" rel="noopener noreferrer">JLine<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> JAR is found on the classpath.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/INL/BlackLab/edit/dev/site/docs/development/query-tool.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/15/2022, 2:13:30 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/BlackLab/development/examples/example-application.html" class="prev">
        The Example Application
      </a></span> <span class="next"><a href="/BlackLab/development/customization/docindexer.html">
        Custom DocIndexer
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BlackLab/assets/js/app.7a3441ee.js" defer></script><script src="/BlackLab/assets/js/2.5fe0985c.js" defer></script><script src="/BlackLab/assets/js/22.eb26afc2.js" defer></script>
  </body>
</html>
