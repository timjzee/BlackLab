<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tutorials / howtos | BlackLab</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Documentation for the corpus search engine BlackLab">
    
    <link rel="preload" href="/BlackLab/assets/css/0.styles.490e2dbe.css" as="style"><link rel="preload" href="/BlackLab/assets/js/app.7a3441ee.js" as="script"><link rel="preload" href="/BlackLab/assets/js/2.5fe0985c.js" as="script"><link rel="preload" href="/BlackLab/assets/js/38.1bf30664.js" as="script"><link rel="prefetch" href="/BlackLab/assets/js/10.e0923afa.js"><link rel="prefetch" href="/BlackLab/assets/js/11.258e7acb.js"><link rel="prefetch" href="/BlackLab/assets/js/12.7e546e9f.js"><link rel="prefetch" href="/BlackLab/assets/js/13.e012f2f0.js"><link rel="prefetch" href="/BlackLab/assets/js/14.91ee3f32.js"><link rel="prefetch" href="/BlackLab/assets/js/15.2ed4bb72.js"><link rel="prefetch" href="/BlackLab/assets/js/16.eb35820c.js"><link rel="prefetch" href="/BlackLab/assets/js/17.a83da584.js"><link rel="prefetch" href="/BlackLab/assets/js/18.31e6f47b.js"><link rel="prefetch" href="/BlackLab/assets/js/19.968dfe1c.js"><link rel="prefetch" href="/BlackLab/assets/js/20.80fd51f0.js"><link rel="prefetch" href="/BlackLab/assets/js/21.61b5d978.js"><link rel="prefetch" href="/BlackLab/assets/js/22.eb26afc2.js"><link rel="prefetch" href="/BlackLab/assets/js/23.188da129.js"><link rel="prefetch" href="/BlackLab/assets/js/24.11fd7da1.js"><link rel="prefetch" href="/BlackLab/assets/js/25.2fcaa546.js"><link rel="prefetch" href="/BlackLab/assets/js/26.ef5ef092.js"><link rel="prefetch" href="/BlackLab/assets/js/27.fec955fe.js"><link rel="prefetch" href="/BlackLab/assets/js/28.240b166f.js"><link rel="prefetch" href="/BlackLab/assets/js/29.ee44dd00.js"><link rel="prefetch" href="/BlackLab/assets/js/3.5ef7a69e.js"><link rel="prefetch" href="/BlackLab/assets/js/30.fd9d089f.js"><link rel="prefetch" href="/BlackLab/assets/js/31.9017b156.js"><link rel="prefetch" href="/BlackLab/assets/js/32.0bc1c944.js"><link rel="prefetch" href="/BlackLab/assets/js/33.a0eb6780.js"><link rel="prefetch" href="/BlackLab/assets/js/34.3e8accbe.js"><link rel="prefetch" href="/BlackLab/assets/js/35.174c0c0c.js"><link rel="prefetch" href="/BlackLab/assets/js/36.fe5c8cd3.js"><link rel="prefetch" href="/BlackLab/assets/js/37.3e2dcc58.js"><link rel="prefetch" href="/BlackLab/assets/js/39.e68f015e.js"><link rel="prefetch" href="/BlackLab/assets/js/4.d4eaec4c.js"><link rel="prefetch" href="/BlackLab/assets/js/40.dc707cff.js"><link rel="prefetch" href="/BlackLab/assets/js/41.7d6e5fe8.js"><link rel="prefetch" href="/BlackLab/assets/js/42.ed42da15.js"><link rel="prefetch" href="/BlackLab/assets/js/43.ade5908f.js"><link rel="prefetch" href="/BlackLab/assets/js/44.dc10efee.js"><link rel="prefetch" href="/BlackLab/assets/js/45.4d4f2c69.js"><link rel="prefetch" href="/BlackLab/assets/js/46.68eefd9d.js"><link rel="prefetch" href="/BlackLab/assets/js/47.22504675.js"><link rel="prefetch" href="/BlackLab/assets/js/48.6011aa57.js"><link rel="prefetch" href="/BlackLab/assets/js/49.01098fa5.js"><link rel="prefetch" href="/BlackLab/assets/js/5.49744fc9.js"><link rel="prefetch" href="/BlackLab/assets/js/50.6e1abbdf.js"><link rel="prefetch" href="/BlackLab/assets/js/51.bd551381.js"><link rel="prefetch" href="/BlackLab/assets/js/52.bac90b56.js"><link rel="prefetch" href="/BlackLab/assets/js/53.94477c27.js"><link rel="prefetch" href="/BlackLab/assets/js/54.3d2cdc9b.js"><link rel="prefetch" href="/BlackLab/assets/js/55.6e4ecbe4.js"><link rel="prefetch" href="/BlackLab/assets/js/56.af31f5d9.js"><link rel="prefetch" href="/BlackLab/assets/js/57.477e686a.js"><link rel="prefetch" href="/BlackLab/assets/js/58.fa01aa4c.js"><link rel="prefetch" href="/BlackLab/assets/js/59.d7d2e42a.js"><link rel="prefetch" href="/BlackLab/assets/js/6.39c16ebc.js"><link rel="prefetch" href="/BlackLab/assets/js/60.8bdb1e24.js"><link rel="prefetch" href="/BlackLab/assets/js/61.9fa92433.js"><link rel="prefetch" href="/BlackLab/assets/js/62.6a62dd3f.js"><link rel="prefetch" href="/BlackLab/assets/js/63.639c347b.js"><link rel="prefetch" href="/BlackLab/assets/js/64.f27d1d5d.js"><link rel="prefetch" href="/BlackLab/assets/js/65.cae1de64.js"><link rel="prefetch" href="/BlackLab/assets/js/66.883cfc5f.js"><link rel="prefetch" href="/BlackLab/assets/js/67.b1761c52.js"><link rel="prefetch" href="/BlackLab/assets/js/7.fc2d2638.js"><link rel="prefetch" href="/BlackLab/assets/js/8.0ce128f6.js"><link rel="prefetch" href="/BlackLab/assets/js/9.3aa625e7.js">
    <link rel="stylesheet" href="/BlackLab/assets/css/0.styles.490e2dbe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BlackLab/" class="home-link router-link-active"><!----> <span class="site-name">BlackLab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link router-link-active">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link router-link-active">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/BlackLab/server/" aria-current="page" class="sidebar-link">BlackLab Server</a></li><li><a href="/BlackLab/server/overview.html" class="sidebar-link">How to use</a></li><li><a href="/BlackLab/server/rest-api/" class="sidebar-link">API reference</a></li><li><a href="/BlackLab/server/from-different-languages.html" class="sidebar-link">Using from different languages</a></li><li><a href="/BlackLab/server/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/BlackLab/server/howtos.html" aria-current="page" class="active sidebar-link">Tutorials / howtos</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BlackLab/server/howtos.html#let-users-manage-their-own-corpora" class="sidebar-link">Let users manage their own corpora</a></li><li class="sidebar-sub-header"><a href="/BlackLab/server/howtos.html#convert-from-pdf-docx-etc" class="sidebar-link">Convert from PDF, DOCX, etc.</a></li><li class="sidebar-sub-header"><a href="/BlackLab/server/howtos.html#lock-files-into-disk-cache" class="sidebar-link">Lock files into disk cache</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="tutorials-howtos"><a href="#tutorials-howtos" class="header-anchor">#</a> Tutorials / howtos</h1> <h2 id="let-users-manage-their-own-corpora"><a href="#let-users-manage-their-own-corpora" class="header-anchor">#</a> Let users manage their own corpora</h2> <p>If you configure a form of user authentication, you can allow users to manager their own corpora using BlackLab Server or Frontend.</p> <p>BlackLab Server includes support for creating indices and adding documents to them. We use these features in BlackLab Frontend to allow users to quickly index data and search it, without having to set up a BlackLab installation themselves. Here's a very quick overview.</p> <p>Currently, only private indices can be created and appended to. This means there must be a logged-in user. The setting <code>authSystem</code> in <code>blacklab-server.yaml</code> (or <code>.json</code>) will let you specify what authentication system you'd like to use. If you specify class <code>AuthDebugFixed</code> and a <code>userId</code>, you will always be logged in as this user. Note that this debug authentication method only works if you are a debug client (i.e. your IP address is listed in the <code>debug.addresses</code> setting, see <a href="/BlackLab/server/configuration.html">Configuration files</a>). Have a look at the other <code>Auth*</code> classes (mostly <code>AuthHttpBasic</code> and <code>AuthRequestAttribute</code>) to see how real authentication would work.</p> <p>Another required setting is <code>userIndexes</code> (in addition to <code>indexLocations</code> which points to the &quot;globally available&quot; indices). In this directory, user-private indices will be created. Obviously, the application needs write permissions on this directory.</p> <p>When a user is logged in and you have a <code>userIndexes</code> directory set up, you will see a <code>user</code> section on the BlackLab Server info page (<code>/blacklab-server/</code>) with both <code>loggedIn</code> and <code>canCreateIndex</code> set to <code>true</code>. To see what input formats are supported, look at the <code>/blacklab-server/input-formats/</code> URL.</p> <p>To create a private index, <code>POST</code> to <code>/blacklab-server/</code> with parameters <code>name</code> (index identifier), <code>display</code> (a human-friendly index name) and <code>format</code> (the input format to use for this index, e.g. <code>tei</code>). The userId will be prepended to the index name, so if your userId is <code>myUserId</code> and you create an index name <code>myIndex</code>, the full name will be <code>myUserId:myIndex</code>.</p> <p>To add a file to a private index, upload it to <code>/blacklab-server/INDEX_NAME/docs</code> with parameter name <code>data</code>.</p> <p>To remove a private index, send a <code>DELETE</code> request to <code>/blacklab-server/INDEX_NAME/</code>.</p> <p>For the details of these endpoints, and the ones below, see <a href="/BlackLab/server/rest-api/#manage-user-corpora">Manage user corpora</a>.</p> <h3 id="adding-removing-user-formats"><a href="#adding-removing-user-formats" class="header-anchor">#</a> Adding/removing user formats</h3> <p>To add an input format, upload a <code>.yaml</code> or <code>.json</code> configuration file to the <code>/blacklab-server/input-formats/</code> URL with parameter name <code>data</code>. The file name will become the format name. User formats will be prefixed with the <code>userId</code> and a colon, so if your userId is <code>myUserId</code> and you upload a file <code>myFormatName.blf.yaml</code>, a new format <code>myUserId:myFormatName</code> will be created. Only you will see it in the formats list, but in theory, everyone can use it (this is different from indices, which are private).</p> <p>To view an input format configuration, use <code>/blacklab-server/input-formats/&lt;format-name&gt;</code>.</p> <p>To remove an input format, send a <code>DELETE</code> request to the format page, e.g. <code>/blacklab-server/input-formats/&lt;format-name&gt;</code>.</p> <h3 id="share-private-index-with-a-list-of-users"><a href="#share-private-index-with-a-list-of-users" class="header-anchor">#</a> Share private index with a list of users</h3> <p>To see what users (if any) a private index is currently shared with, use: <code>/blacklab-server/&lt;corpus-name&gt;/sharing</code>.</p> <p>To set the list of users to share a private index with, send a <code>POST</code> request to the same URL with the <code>users[]</code> parameter for each user to share with (that is, you should specify this parameter multiple times, once for each user). You can leave the parameter empty if you don't want to share the index anymore.</p> <p>The sharing information is stored in the index directory in a file named <code>.shareWithUsers</code>.</p> <h2 id="convert-from-pdf-docx-etc"><a href="#convert-from-pdf-docx-etc" class="header-anchor">#</a> Convert from PDF, DOCX, etc.</h2> <p>Convert and Tag plugins allow you to convert documents from formats like <code>.docx</code> or <code>.pdf</code> into an XML format, tokenize them and tag each word with annotations like lemma and part of speech.</p> <ul><li>Create a class implementing <code>ConvertPlugin</code> or <code>TagPlugin</code></li> <li>Make the class known to the java <a href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html" target="_blank" rel="noopener noreferrer">SPI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> system.<br>
In short:
<ul><li>Create a jar containing your plugin class.</li> <li>Add a file to the jar under <code>/META-INF/services/</code> with the name <code>nl.inl.blacklab.indexers.preprocess.ConvertPlugin</code> or <code>nl.inl.blacklab.indexers.preprocess.TagPlugin</code> depending on your plugin's type.</li> <li>Add a single line containing your class's fully-qualified class name.</li> <li>Add your jar to BlackLab's classpath.</li></ul></li></ul> <p>Configuring your plugin is possible through <code>blacklab[-server].yaml</code>.<br>
Any options under <code>plugins.yourPluginId</code> will be passed to your plugin when it's initialized.</p> <p>Example:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># Plugin options. Plugins allow you to automatically convert files (e.g. .html, .docx) or</span>
<span class="token comment"># apply linguistic tagging before indexing.</span>
<span class="token key atrule">plugins</span><span class="token punctuation">:</span>

  <span class="token comment"># Should we initialize plugins when they are first used?</span>
  <span class="token comment"># (plugin initialization can take a while; during development, delayed initialization is</span>
  <span class="token comment"># often convenient, but during production, you usually want to initialize right away)</span>
  <span class="token key atrule">delayInitialization</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

  <span class="token comment"># Individual plugin configurations</span>
  <span class="token key atrule">plugins</span><span class="token punctuation">:</span>

    <span class="token comment"># Conversion plugin</span>
    <span class="token key atrule">OpenConvert</span><span class="token punctuation">:</span>
      <span class="token key atrule">jarPath</span><span class="token punctuation">:</span> <span class="token string">&quot;/home/jan/int-projects/blacklab-data/autosearch-plugins/jars/OpenConvert-0.2.0.jar&quot;</span>

    <span class="token comment"># Tagging plugin</span>
    <span class="token key atrule">DutchTagger</span><span class="token punctuation">:</span>
      <span class="token key atrule">jarPath</span><span class="token punctuation">:</span> <span class="token string">&quot;/home/jan/int-projects/blacklab-data/autosearch-plugins/jars/DutchTagger-0.2.0.jar&quot;</span>
      <span class="token key atrule">vectorFile</span><span class="token punctuation">:</span>  <span class="token string">&quot;/home/jan/int-projects/blacklab-data/autosearch-plugins/tagger-data/sonar.vectors.bin&quot;</span>
      <span class="token key atrule">modelFile</span><span class="token punctuation">:</span>   <span class="token string">&quot;/home/jan/int-projects/blacklab-data/autosearch-plugins/tagger-data/withMoreVectorrs&quot;</span>
      <span class="token key atrule">lexiconFile</span><span class="token punctuation">:</span> <span class="token string">&quot;/home/jan/int-projects/blacklab-data/autosearch-plugins/tagger-data/spelling.tab&quot;</span>
</code></pre></div><p>If your plugin was loaded successfully it can now be used by adding the following to an import format (<code>.blf.yaml</code> file):</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">tagplugin</span><span class="token punctuation">:</span> yourPluginId
<span class="token key atrule">convertPlugin</span><span class="token punctuation">:</span> yourPluginId
</code></pre></div><h2 id="lock-files-into-disk-cache"><a href="#lock-files-into-disk-cache" class="header-anchor">#</a> Lock files into disk cache</h2> <div class="custom-block warning"><p class="custom-block-title">CAUTION</p> <p>Depending on your requirements and hardware, this may be a bad idea that degrades performance. In general, most users should rely probably on the operating system to effectively cache files, and not try to override it using a tool like <code>vmtouch</code>. This information is still provided in case anyone wants to use <code>vmtouch</code> nonetheless.</p></div> <p>At the Dutch Language Institute, we used to use a tool called <a href="http://hoytech.com/vmtouch/" target="_blank" rel="noopener noreferrer">vmtouch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<a href="https://github.com/hoytech/vmtouch" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) written by Doug Hoyte to 'lock' our forward indices in the operating system's disk cache, keeping them in memory at all times. This speeds up sorting and grouping operations, as well as generating (large amounts of) KWICs (keyword-in-context results).</p> <p>vmtouch is a tool that can &quot;lock&quot; a file in disk cache. It benefits applications that need to perform fast random access to large files (i.e. several gigabytes). Corpus search applications fall into this domain: they need random access to the &quot;forward index&quot; component of the index to do fast sorting and grouping.</p> <p>You should be careful to ensure the machine you're using has enough RAM to keep the required files in memory permanently, and will still have memory left over for the operating system and applications.</p> <p>Also important is to run vmtouch as the root user; user accounts have a limit to the amount of memory they may lock. Vmtouch will terminate with an out of memory error if it hits that limit. (it may be possible to raise this limit for a user by changing a configuration file - we haven't experimented with this)</p> <p>The <a href="http://hoytech.com/vmtouch/" target="_blank" rel="noopener noreferrer">official page for vmtouch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has the C source code and the online manual. We've made a slight modification to the source code to allow for larger files to be cached.</p> <h3 id="filesize-limit"><a href="#filesize-limit" class="header-anchor">#</a> Filesize limit</h3> <p>The original vmtouch had a built-in file size limit (probably as a safety precaution). You may need to raise it (search for o_max_file_size).</p> <h3 id="running-vmtouch"><a href="#running-vmtouch" class="header-anchor">#</a> Running vmtouch</h3> <p>To run vmtouch in daemon mode, so that it will lock files in the disk cache, use the following command line:</p> <div class="language- extra-class"><pre><code>sudo vmtouch -vtld &lt;list_of_files&gt;
</code></pre></div><p>The switches: v=verbose, t=touch (load into disk cache), l=lock (lock in disk cache), d=daemon (keep the program running). For example, we use the following command line to keep all four forward indices of our BlackLab index locked in disk cache (run from within the index directory):</p> <div class="language- extra-class"><pre><code>sudo vmtouch -vtld fi_contents%word/tokens.dat fi_contents%lemma/tokens.dat fi_contents%pos/tokens.dat fi_contents%punct/tokens.dat
</code></pre></div><p>The daemon will start up and will take a while to load all files into disk cache. You can check its progress by only specifying the -v option:</p> <div class="language- extra-class"><pre><code>sudo vmtouch -v fi_contents%word/tokens.dat fi_contents%lemma/tokens.dat fi_contents%pos/tokens.dat fi_contents%punct/tokens.dat
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/INL/BlackLab/edit/dev/site/docs/server/howtos.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/22/2022, 12:16:42 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/BlackLab/server/configuration.html" class="prev">
        Configuration
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BlackLab/assets/js/app.7a3441ee.js" defer></script><script src="/BlackLab/assets/js/2.5fe0985c.js" defer></script><script src="/BlackLab/assets/js/38.1bf30664.js" defer></script>
  </body>
</html>
