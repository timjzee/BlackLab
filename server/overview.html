<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using BlackLab Server | BlackLab</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Documentation for the corpus search engine BlackLab">
    
    <link rel="preload" href="/BlackLab/assets/css/0.styles.490e2dbe.css" as="style"><link rel="preload" href="/BlackLab/assets/js/app.7a3441ee.js" as="script"><link rel="preload" href="/BlackLab/assets/js/2.5fe0985c.js" as="script"><link rel="preload" href="/BlackLab/assets/js/40.dc707cff.js" as="script"><link rel="prefetch" href="/BlackLab/assets/js/10.e0923afa.js"><link rel="prefetch" href="/BlackLab/assets/js/11.258e7acb.js"><link rel="prefetch" href="/BlackLab/assets/js/12.7e546e9f.js"><link rel="prefetch" href="/BlackLab/assets/js/13.e012f2f0.js"><link rel="prefetch" href="/BlackLab/assets/js/14.91ee3f32.js"><link rel="prefetch" href="/BlackLab/assets/js/15.2ed4bb72.js"><link rel="prefetch" href="/BlackLab/assets/js/16.eb35820c.js"><link rel="prefetch" href="/BlackLab/assets/js/17.a83da584.js"><link rel="prefetch" href="/BlackLab/assets/js/18.31e6f47b.js"><link rel="prefetch" href="/BlackLab/assets/js/19.968dfe1c.js"><link rel="prefetch" href="/BlackLab/assets/js/20.80fd51f0.js"><link rel="prefetch" href="/BlackLab/assets/js/21.61b5d978.js"><link rel="prefetch" href="/BlackLab/assets/js/22.eb26afc2.js"><link rel="prefetch" href="/BlackLab/assets/js/23.188da129.js"><link rel="prefetch" href="/BlackLab/assets/js/24.11fd7da1.js"><link rel="prefetch" href="/BlackLab/assets/js/25.2fcaa546.js"><link rel="prefetch" href="/BlackLab/assets/js/26.ef5ef092.js"><link rel="prefetch" href="/BlackLab/assets/js/27.fec955fe.js"><link rel="prefetch" href="/BlackLab/assets/js/28.240b166f.js"><link rel="prefetch" href="/BlackLab/assets/js/29.ee44dd00.js"><link rel="prefetch" href="/BlackLab/assets/js/3.5ef7a69e.js"><link rel="prefetch" href="/BlackLab/assets/js/30.fd9d089f.js"><link rel="prefetch" href="/BlackLab/assets/js/31.9017b156.js"><link rel="prefetch" href="/BlackLab/assets/js/32.0bc1c944.js"><link rel="prefetch" href="/BlackLab/assets/js/33.a0eb6780.js"><link rel="prefetch" href="/BlackLab/assets/js/34.3e8accbe.js"><link rel="prefetch" href="/BlackLab/assets/js/35.174c0c0c.js"><link rel="prefetch" href="/BlackLab/assets/js/36.fe5c8cd3.js"><link rel="prefetch" href="/BlackLab/assets/js/37.3e2dcc58.js"><link rel="prefetch" href="/BlackLab/assets/js/38.1bf30664.js"><link rel="prefetch" href="/BlackLab/assets/js/39.e68f015e.js"><link rel="prefetch" href="/BlackLab/assets/js/4.d4eaec4c.js"><link rel="prefetch" href="/BlackLab/assets/js/41.7d6e5fe8.js"><link rel="prefetch" href="/BlackLab/assets/js/42.ed42da15.js"><link rel="prefetch" href="/BlackLab/assets/js/43.ade5908f.js"><link rel="prefetch" href="/BlackLab/assets/js/44.dc10efee.js"><link rel="prefetch" href="/BlackLab/assets/js/45.4d4f2c69.js"><link rel="prefetch" href="/BlackLab/assets/js/46.68eefd9d.js"><link rel="prefetch" href="/BlackLab/assets/js/47.22504675.js"><link rel="prefetch" href="/BlackLab/assets/js/48.6011aa57.js"><link rel="prefetch" href="/BlackLab/assets/js/49.01098fa5.js"><link rel="prefetch" href="/BlackLab/assets/js/5.49744fc9.js"><link rel="prefetch" href="/BlackLab/assets/js/50.6e1abbdf.js"><link rel="prefetch" href="/BlackLab/assets/js/51.bd551381.js"><link rel="prefetch" href="/BlackLab/assets/js/52.bac90b56.js"><link rel="prefetch" href="/BlackLab/assets/js/53.94477c27.js"><link rel="prefetch" href="/BlackLab/assets/js/54.3d2cdc9b.js"><link rel="prefetch" href="/BlackLab/assets/js/55.6e4ecbe4.js"><link rel="prefetch" href="/BlackLab/assets/js/56.af31f5d9.js"><link rel="prefetch" href="/BlackLab/assets/js/57.477e686a.js"><link rel="prefetch" href="/BlackLab/assets/js/58.fa01aa4c.js"><link rel="prefetch" href="/BlackLab/assets/js/59.d7d2e42a.js"><link rel="prefetch" href="/BlackLab/assets/js/6.39c16ebc.js"><link rel="prefetch" href="/BlackLab/assets/js/60.8bdb1e24.js"><link rel="prefetch" href="/BlackLab/assets/js/61.9fa92433.js"><link rel="prefetch" href="/BlackLab/assets/js/62.6a62dd3f.js"><link rel="prefetch" href="/BlackLab/assets/js/63.639c347b.js"><link rel="prefetch" href="/BlackLab/assets/js/64.f27d1d5d.js"><link rel="prefetch" href="/BlackLab/assets/js/65.cae1de64.js"><link rel="prefetch" href="/BlackLab/assets/js/66.883cfc5f.js"><link rel="prefetch" href="/BlackLab/assets/js/67.b1761c52.js"><link rel="prefetch" href="/BlackLab/assets/js/7.fc2d2638.js"><link rel="prefetch" href="/BlackLab/assets/js/8.0ce128f6.js"><link rel="prefetch" href="/BlackLab/assets/js/9.3aa625e7.js">
    <link rel="stylesheet" href="/BlackLab/assets/css/0.styles.490e2dbe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BlackLab/" class="home-link router-link-active"><!----> <span class="site-name">BlackLab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link router-link-active">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link router-link-active">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/BlackLab/server/" aria-current="page" class="sidebar-link">BlackLab Server</a></li><li><a href="/BlackLab/server/overview.html" aria-current="page" class="active sidebar-link">How to use</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BlackLab/server/overview.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/BlackLab/server/overview.html#examples" class="sidebar-link">Examples</a></li></ul></li><li><a href="/BlackLab/server/rest-api/" class="sidebar-link">API reference</a></li><li><a href="/BlackLab/server/from-different-languages.html" class="sidebar-link">Using from different languages</a></li><li><a href="/BlackLab/server/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/BlackLab/server/howtos.html" class="sidebar-link">Tutorials / howtos</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="using-blacklab-server"><a href="#using-blacklab-server" class="header-anchor">#</a> Using BlackLab Server</h1> <div class="custom-block warning"><p class="custom-block-title">Work in progress</p> <p>This will become a guided introduction to BlackLab Server. See the <a href="/BlackLab/server/rest-api/">REST API reference</a> for details about each endpoint.</p></div> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <h3 id="json-or-xml"><a href="#json-or-xml" class="header-anchor">#</a> JSON or XML?</h3> <p>The webservice answers in JSON or XML. Selection of the desired output format can be done two ways:</p> <ul><li>by passing the HTTP header <code>Accept</code> with the value <code>application/json</code> or <code>application/xml</code></li> <li>by passing an extra parameter <code>outputformat</code> with the value <code>json</code> or <code>xml</code>.</li></ul> <p>If both are specified, the parameter has precedence.</p> <p>We'll usually use JSON in our examples.</p> <h3 id="running-results-count"><a href="#running-results-count" class="header-anchor">#</a> Running results count</h3> <p>BlackLab Server is mostly stateless: a particular URL will always result in the same response. An exception to this is the running result count. When you're requesting a page of results, and there are more results to the query, BlackLab Server will retrieve these results in the background. It will report how many results it has retrieved and whether it has finished or is still retrieving.</p> <p>A note about retrieving versus counting. BLS has two limits for processing results: maximum number of hits to retrieve/process and maximum number of hits to count. Retrieving or processing hits means the hit is stored and will appear on the results page, is sorted, grouped, faceted, etc. If the retrieval limit is reached, BLS will still keep counting hits but will no longer store them.</p> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <p>There's code examples of using BlackLab Server from <a href="/BlackLab/server/from-different-languages.html">a number of different programming languages</a>.</p> <p>Below are examples of individual requests to BlackLab Server.</p> <p><strong>NOTE:</strong> for clarity, double quotes have not been URL-encoded.</p> <h4 id="searches"><a href="#searches" class="header-anchor">#</a> Searches</h4> <p>All occurrences of “test” in the “opensonar” corpus (CorpusQL query)</p> <div class="language- extra-class"><pre><code>	http://blacklab.ivdnt.org/blacklab-server/opensonar/hits?patt=&quot;test&quot;
</code></pre></div><p>All documents having “guide” in the title and “test” in the contents, sorted by author and date, results 61-90</p> <div class="language- extra-class"><pre><code>	http://blacklab.ivdnt.org/blacklab-server/opensonar/docs?filter=title:guide&amp;patt=&quot;test&quot;&amp; sort=field:author,field:date&amp;first=61&amp;number=30
</code></pre></div><p>Occurrences of “test”, grouped by the word left of each hit</p> <div class="language- extra-class"><pre><code>	http://blacklab.ivdnt.org/blacklab-server/opensonar/hits?patt=&quot;test&quot;&amp;group=wordleft
</code></pre></div><p>Documents containing “test”, grouped by author</p> <div class="language- extra-class"><pre><code>	http://blacklab.ivdnt.org/blacklab-server/opensonar/docs?patt=&quot;test&quot;&amp;group=field:author
</code></pre></div><p>Larger snippet around a hit:</p> <div class="language- extra-class"><pre><code>    http://blacklab.ivdnt.org/blacklab-server/opensonar/docs/0345391802/snippet?hitstart=120&amp;hitend=121&amp;wordsaroundhit=50
</code></pre></div><h4 id="information-about-a-document"><a href="#information-about-a-document" class="header-anchor">#</a> Information about a document</h4> <p>Metadata of document with specific PID</p> <div class="language- extra-class"><pre><code>	http://blacklab.ivdnt.org/blacklab-server/opensonar/docs/0345391802
</code></pre></div><p>The entire original document</p> <div class="language- extra-class"><pre><code>	http://blacklab.ivdnt.org/blacklab-server/opensonar/docs/0345391802/contents
</code></pre></div><p>The entire document, with occurrences of “test” highlighted (with &lt;hl/&gt; tags)</p> <div class="language- extra-class"><pre><code>	http://blacklab.ivdnt.org/blacklab-server/opensonar/docs/0345391802/contents?patt=&quot;test&quot;
</code></pre></div><p>Part of the document (embedded in a <code>&lt;blacklabResponse&gt;</code> root element; BlackLab makes sure the resulting XML is well-formed)</p> <div class="language- extra-class"><pre><code>   http://blacklab.ivdnt.org/blacklab-server/opensonar/docs/0345391802/contents?wordstart=1000&amp;wordend=2000
</code></pre></div><h4 id="information-about-indices"><a href="#information-about-indices" class="header-anchor">#</a> Information about indices</h4> <p>Information about the webservice; list of available indices</p> <div class="language- extra-class"><pre><code>    http://blacklab.ivdnt.org/blacklab-server/ (trailing slash optional)
</code></pre></div><p>Information about the “opensonar” corpus (structure, fields, (sub)annotations, human-readable names)</p> <div class="language- extra-class"><pre><code>    http://blacklab.ivdnt.org/blacklab-server/opensonar/ (trailing slash optional)
</code></pre></div><p>Information about the “opensonar” corpus, include all values for &quot;pos&quot; annotation (listvalues is a comma-separated list of annotation names):</p> <div class="language- extra-class"><pre><code>    http://blacklab.ivdnt.org/blacklab-server/opensonar/?listvalues=pos
</code></pre></div><p>Information about the “opensonar” corpus, include all values for &quot;pos&quot; annotation and any subannotations (listvalues may contain regexes):</p> <div class="language- extra-class"><pre><code>    http://blacklab.ivdnt.org/blacklab-server/opensonar/?listvalues=pos.*
</code></pre></div><p>Autogenerated XSLT stylesheet for transforming whole documents (only available for configfile-based XML formats):</p> <div class="language- extra-class"><pre><code>    http://blacklab.ivdnt.org/blacklab-server/input-formats/folia/xslt
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/INL/BlackLab/edit/dev/site/docs/server/overview.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/15/2022, 2:13:30 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/BlackLab/server/" class="prev router-link-active">
        BlackLab Server
      </a></span> <span class="next"><a href="/BlackLab/server/rest-api/">
        API reference
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BlackLab/assets/js/app.7a3441ee.js" defer></script><script src="/BlackLab/assets/js/2.5fe0985c.js" defer></script><script src="/BlackLab/assets/js/40.dc707cff.js" defer></script>
  </body>
</html>
